# MetricBeats Setup

## Getting Started

**Step 11**

**1. Download and install Metricbeat**

First time using Metricbeat? See the [Quick Start](https://www.elastic.co/guide/en/beats/metricbeat/8.2/metricbeat-installation-configuration.html).

```
1curl -L -O https://artifacts.elastic.co/downloads/beats/metricbeat/metricbeat-8.2.2-amd64.deb 2sudo dpkg -i metricbeat-8.2.2-amd64.deb 
```

**Step 22**

**2. Edit the configuration**

Modify `/etc/metricbeat/metricbeat.yml` to set the connection information:

```
1output.elasticsearch: 2  hosts: ["elastic.carti3r.tk"] 3  username: "<username>" 4  password: "<password>" 5  # If using Elasticsearch's default certificate 6  # ssl.ca_trusted_fingerprint: "<es cert fingerprint>" 7setup.kibana: 8  host: "kibana.carti3r.tk>" 9 
```

Where `<password>` is the password of the `elastic` user, `<es_url>` is the URL of Elasticsearch, and `<kibana_url>` is the URL of Kibana. To [configure SSL](https://www.elastic.co/guide/en/beats/metricbeat/8.2/configuration-ssl.html#ca-sha256) with the default certificate generated by Elasticsearch, add its fingerprint in `<es cert fingerprint>`.

**Step 33**

**3. Enable and configure the elasticsearch module**

```
1sudo metricbeat modules enable elasticsearch
```

Modify the settings in the `/etc/metricbeat/modules.d/elasticsearch.yml` file.

```
1sudo metricbeat modules enable docker
```

Modify the settings in the `/etc/metricbeat/modules.d/docker.yml` file.

```
1metricbeat.modules: 2- module: docker 3  metricsets: 4    - "container" 5    - "cpu" 6    - "diskio" 7    - "event" 8    - "healthcheck" 9    - "info" 10    #- "image" 11    - "memory" 12    - "network" 13    #- "network_summary" 14  hosts: ["unix:///var/run/docker.sock"] 15  period: 10s 16  enabled: true 
```

**Step 44**

**4. Start Metricbeat**

The `setup` command loads the Kibana dashboards. If the dashboards are already set up, omit this command.

```
1sudo metricbeat setup 2sudo service metricbeat start 
```

 



AÃ±adir etiqueta